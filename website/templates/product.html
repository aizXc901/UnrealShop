{% extends "base.html" %}

{% block title %}{{ product.name }} - UnrealShop{% endblock %}

{% block content %}
<div class="product-page">
    <div class="product-details">
        <img src="{{ url_for('static', filename=product.image) }}" alt="{{ product.name }}">
        <h2>{{ product.name }}</h2>
        <p class="price">{{ product.price | round(2) }} —Ä—É–±.</p>
        <p class="description">{{ product.description }}</p>

        <!-- –ö–Ω–æ–ø–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É -->
        {% if current_user.is_authenticated %}
            {% if cart_item %}
                <div class="plus-container">
                    <form action="{{ url_for('views.cart') }}">
                        <button type="submit" class="btn">üõí –í –∫–æ—Ä–∑–∏–Ω—É</button>
                    </form>
                    <div class="quantity"><strong>{{ cart_item.quantity }}</strong></div>
                    <form action="{{ url_for('views.add_to_cart', product_id=product.id) }}" method="POST">
                        <button type="submit" class="btn">+</button>
                    </form>

                </div>
            {% else %}
                <form action="{{ url_for('views.add_to_cart', product_id=product.id) }}" method="POST">
                    <button type="submit" class="btn btn-add-to-cart">–î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É</button>
                </form>
            {% endif %}
        {% else %}
            <a href="{{ url_for('auth.login') }}"><button class="btn btn-login">–í–æ–π—Ç–∏, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å</button></a>
        {% endif %}

        <!-- –ù–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞: –ù–∞ –≥–ª–∞–≤–Ω—É—é -->
        <br><br>
        <a href="{{ url_for('views.home') }}" class="btn btn-back">üè† –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    </div>
</div>
{% endblock %}